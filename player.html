<!DOCTYPE html>
<html>
<head>
    <title>NFC Аудио</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body>

<audio id="audio" src="https://www.myinstants.com/media/sounds/stony-250.mp3" preload="auto" loop></audio>

<script>
    (function() {
        const audio = document.getElementById('audio');
        audio.volume = 1.0;

        // 1. Попытка немедленного воспроизведения
        audio.play().catch(e => {
            // 2. Если запрещено - симулируем жесты
            simulateUserInteraction();

            // 3. Пытаемся снова после симуляции
            setTimeout(() => audio.play().catch(e => {
                // 4. Последняя попытка при любом касании
                document.body.addEventListener('click', () => audio.play(), {once: true});
                document.body.addEventListener('touchstart', () => audio.play(), {once: true});
            }), 300);
        });

        function simulateUserInteraction() {
            // Создаем и сразу удаляем фейковый обработчик
            const events = ['click', 'touchstart', 'mousedown', 'keydown'];
            events.forEach(e => {
                window.addEventListener(e, function() {}, {once: true, passive: true});
            });
        }
    })();
</script>

<noscript>
    <meta http-equiv="refresh" content="0;url=data:audio/mpeg;base64,SUQzBAAAAA...">
</noscript>

</body>
</html>