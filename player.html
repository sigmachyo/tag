<!DOCTYPE html>
<html>
<head>
    <title>Stony 250</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            touch-action: manipulation;
        }
        #playBtn {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            z-index: 100;
        }
    </style>
</head>
<body>

<audio id="audio" preload="auto" loop></audio>
<button id="playBtn"></button>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const audio = document.getElementById('audio');
        audio.volume = 1.0;
        audio.src = 'https://www.myinstants.com/media/sounds/stony-250.mp3';

        // 1. Попытка немедленного воспроизведения
        audio.play().then(() => {
            // Успешное автовоспроизведение
        }).catch(e => {
            // 2. Если запрещено - показываем невидимую кнопку
            document.getElementById('playBtn').style.opacity = '1';

            // 3. Автоматически кликаем по кнопке через 100мс (обход для iOS)
            setTimeout(() => {
                document.getElementById('playBtn').click();
            }, 100);
        });

        // 4. Обработчик для ручного запуска
        document.getElementById('playBtn').addEventListener('click', function() {
            audio.play();
            this.style.opacity = '0';
        });

        // 5. Дополнительные обработчики для разных браузеров
        document.addEventListener('touchstart', function() {
            audio.play().catch(() => {});
        }, { once: true });

        window.addEventListener('load', function() {
            audio.play().catch(() => {});
        });
    });
</script>

</body>
</html>